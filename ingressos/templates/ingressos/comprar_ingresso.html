{% extends 'base.html' %}
{% load static %}
{% block title %}Venda de Ingresso{% endblock %}
{% block head %}
    <link rel="stylesheet" href="{% static 'ingressos/css/style.css' %}">
{% endblock %}
{% block content %}
    <!-- Exibindo a mensagem de erro do formulário -->
    {% if form.non_field_errors %}
        <div class="alert alert-danger mt-3" role="alert">
            {{ form.non_field_errors  }}
        </div>
    {% endif %}
    <div class="d-flex justify-content-center">
        <form method="POST" class="w-100 d-flex align-items-center border rounded p-3 shadow-lg " action="{% url 'comprar_ingresso' id_ingresso=ingresso.id %}" novalidate>
            {% csrf_token %}
            <div class="w-50">
                <img class="img-ingresso" src="{{ ingresso.thumbnail.url }}">
            </div>
            <div class="w-50 d-flex flex-column">
                <h2 class='h1'>Você está comprando o ingresso {{ ingresso.titulo }}</h2>
                <div class='mb-3'>
                    <p>Dia do evento: {{ ingresso.data_horario }}</p>
                    <p>Valor: {{ ingresso.preco }}</p>
                    <p>Ingressos disponíveis: {{ ingresso.estoque_disponivel }}</p>
                    <label class="form-label">{{ form.quantidade.label }}</label>
                    {{ form.quantidade }}
                </div>
                <button type="submit" class="btn btn-primary align-self-center">Comprar Agora</button>
            </div>
        </form>
    </div>
{% endblock %}